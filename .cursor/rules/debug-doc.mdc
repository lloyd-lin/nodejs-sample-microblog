---
description: 调试步骤和优先级规则
globs:
alwaysApply: true
---

## Website项目调试优先级规则

### 端口访问策略
- **优先假设服务已启动**：对于website项目，优先假设开发服务器已经在3000端口启动
- **直接访问测试**：首先尝试直接访问 `http://localhost:3000` 进行功能测试
- **避免重复启动**：除非确认3000端口未被占用，否则不要尝试重新启动开发服务器

### 调试流程
1. **直接访问测试**
   - 首先使用浏览器工具访问 `http://localhost:3000`
   - 检查页面是否正常加载
   - 查看浏览器控制台的错误信息

2. **端口检查**
   - 只有在直接访问失败时，才检查端口占用情况
   - 使用 `netstat -ano | findstr :3000` 检查端口状态

3. **服务器启动**
   - 只有在确认端口未被占用时，才启动开发服务器
   - 启动命令：`cd packages/website && npm run dev`

### 组件调试策略
- **优先使用浏览器工具**：使用Playwright等工具直接与页面交互
- **查看控制台错误**：重点关注React Hook、TypeScript类型等运行时错误
- **逐步验证功能**：按功能模块逐步测试（拖拽、工具栏、小地图等）

### 错误处理优先级
1. **Hook调用错误**：检查Hook是否在正确的Provider内部调用
2. **类型错误**：验证API调用是否符合最新的FlowGram.AI文档
3. **依赖问题**：确认所需的npm包是否已正确安装
4. **运行时错误**：通过浏览器控制台定位具体问题

### 避免的操作
- 不要在已知服务器运行时强制终止进程
- 不要重复安装已存在的依赖
- 不要在未确认问题原因时盲目重启服务
